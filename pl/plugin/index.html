<!DOCTYPE html><html lang="pl"> <head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="Astro v5.17.3"><link rel="icon" type="image/svg+xml" href="/favicon.svg"><link rel="icon" href="/favicon.ico"><title>Wtyczka VST | Projekt stypendialny</title><meta name="description" content="Opis wtyczki GreggularVST: funkcjonalności, panele i zastosowania."><link rel="stylesheet" href="/_astro/admin.vVUUiRBA.css">
<style>.obf-email[data-astro-cid-qs4irndd]{display:inline-flex;align-items:center;gap:.5rem;vertical-align:middle}.obf-email__button[data-astro-cid-qs4irndd]{appearance:none;border:1px solid rgba(255,255,255,.2);border-radius:999px;background:#ffffff14;color:var(--text-main);font:inherit;font-size:.8rem;line-height:1;padding:.32rem .58rem;cursor:pointer}.obf-email__button[data-astro-cid-qs4irndd]:hover{border-color:#f6c85f75;background:#ffffff1f}.obf-email__image-wrap[data-astro-cid-qs4irndd]{display:inline-flex;align-items:center;line-height:1}.obf-email__image-wrap[data-astro-cid-qs4irndd] img[data-astro-cid-qs4irndd]{display:block;max-width:none;width:auto;height:auto}
</style></head> <body> <div class="site-bg"></div> <header class="main-header"> <a class="brand" href="/pl/">GS</a> <nav> <a href="/pl/project/"> Projekt </a><a href="/pl/plugin/" aria-current="page"> Wtyczka VST </a><a href="/pl/research/"> Badania </a><a href="/pl/workshops/"> Warsztaty </a><a href="/pl/scholarship/"> Stypendium </a><a href="/pl/bio/"> Bio </a> </nav> <div class="lang-switch"> <a class="active" href="/pl/plugin/">PL</a> <a class href="/en/plugin/">EN</a> </div> </header> <main class="container">  <section id="panels" class="content-stack"> <p class="section-kicker">Wtyczka VST</p> <article class="plugin-intro-panel"> <div class="plugin-intro-panel__title"> <h2>GreggularVST</h2> </div> <div class="plugin-intro-panel__body"> <p>
GreggularVST to autorska wtyczka JUCE (VST3) do generatywnego przetwarzania krótkich nagrań
          i budowania wielowarstwowych struktur granularnych. Narzędzie wspiera pracę kompozytorską, sound design
          i eksperymentalne podejście do kreacji dźwięku.
</p> </div> </article> </section> <section class="content-stack"> <p class="section-kicker">Panele interfejsu</p> <h2>Panele</h2> <div class="plugin-panels" data-plugin-panels data-initial-id="controls"> <div class="plugin-panels-nav"> <button type="button" class="plugin-panel-tile is-active" data-panel-id="controls" aria-pressed="true"> <img src="/assets/plugin/controls-panel.png" alt="Panel Controls we wtyczce GreggularVST" loading="lazy"> <div class="plugin-panel-tile__body"> <h3>Controls Panel</h3> <p>Główna warstwa kreacji i parametry granulacji.</p> <div class="plugin-tag-row"> <span class="plugin-tag">Duration</span><span class="plugin-tag">Pitch</span><span class="plugin-tag">Cloud</span> </div> </div> </button><button type="button" class="plugin-panel-tile " data-panel-id="multichannel" aria-pressed="false"> <img src="/assets/plugin/multichannel-panel.png" alt="Panel Multichannel we wtyczce GreggularVST" loading="lazy"> <div class="plugin-panel-tile__body"> <h3>Multichannel Panel</h3> <p>Routing kanałów i panorama dla złożonych układów.</p> <div class="plugin-tag-row"> <span class="plugin-tag">Routing</span><span class="plugin-tag">Mute/Solo</span><span class="plugin-tag">Surround</span> </div> </div> </button><button type="button" class="plugin-panel-tile " data-panel-id="audio-generator" aria-pressed="false"> <img src="/assets/plugin/audio-generator-panel.png" alt="Panel Audio Generator (AI) we wtyczce GreggularVST" loading="lazy"> <div class="plugin-panel-tile__body"> <h3>Audio Generator (AI)</h3> <p>Generowanie materiału audio i iteracje promptowe.</p> <div class="plugin-tag-row"> <span class="plugin-tag">Generator</span><span class="plugin-tag">Prompt</span><span class="plugin-tag">Session</span> </div> </div> </button> </div> <article class="plugin-panel-active" data-panel-active aria-live="polite"> <div class="plugin-panel-active__media"> <img src="/assets/plugin/controls-panel.png" alt="Panel Controls we wtyczce GreggularVST" loading="lazy" data-active-image> <p class="plugin-panel-active__caption" data-active-caption>Główna warstwa kreacji i parametry granulacji.</p> </div> <div class="plugin-panel-active__content"> <p class="plugin-panel-active__kicker">Aktywny panel</p> <h3 data-active-title>Controls Panel</h3> <p class="plugin-panel-active__description" data-active-description>Główna warstwa kreacji: Duration, Pitch, Gain, Envelope i Cloud. To tutaj ustawiane są parametry odpowiadające za charakter i dynamikę chmury granularnej.</p> <section class="plugin-panel-active__highlights"> <h4>Szczegóły panelu</h4> <ul data-active-bullets> <li>Sterowanie zakresem i dynamiką</li><li>Szybki dostęp do kluczowych parametrów</li><li>Tryb pracy nastawiony na iteracje</li> </ul> </section> <div class="plugin-panel-active__switch" aria-label="Nawigacja paneli"> <button type="button" class="plugin-panel-active__arrow" data-panel-prev aria-label="Poprzedni panel">←</button> <button type="button" class="plugin-panel-active__arrow" data-panel-next aria-label="Następny panel">→</button> </div> </div> </article> </div> <div class="text-panel"> <p>
Kontekst naukowy i materiały konferencyjne są dostępne w zakładce <a href="/pl/research/">Badania</a>.
</p> </div> </section> <section class="content-stack"> <p class="section-kicker">Funkcjonalności</p> <h2>Co potrafi wtyczka</h2> <div class="plugin-feature-grid"> <article class="plugin-feature-card"> <div class="plugin-feature-card__head"> <span class="plugin-feature-card__icon">G</span> <h3>Granularny silnik wieloźródłowy</h3> </div> <p>Ładowanie wielu plików WAV do wspólnego bufora i budowanie złożonych chmur ziaren w czasie rzeczywistym.</p> <div class="plugin-tag-row"> <span class="plugin-tag">Granular</span><span class="plugin-tag">WAV</span><span class="plugin-tag">Live</span> </div> </article><article class="plugin-feature-card"> <div class="plugin-feature-card__head"> <span class="plugin-feature-card__icon">P</span> <h3>Precyzyjna kontrola parametrów</h3> </div> <p>Sterowanie czasem trwania ziaren, gęstością chmury, rozrzutem wysokości i głośności oraz obwiednią.</p> <div class="plugin-tag-row"> <span class="plugin-tag">Pitch</span><span class="plugin-tag">Gain</span><span class="plugin-tag">Envelope</span> </div> </article><article class="plugin-feature-card"> <div class="plugin-feature-card__head"> <span class="plugin-feature-card__icon">W</span> <h3>Workflow oparty o waveform</h3> </div> <p>Selekcja, grupowanie i edycja zakresów próbkowania bezpośrednio na podglądzie fali.</p> <div class="plugin-tag-row"> <span class="plugin-tag">Waveform</span><span class="plugin-tag">Selection</span><span class="plugin-tag">Editing</span> </div> </article><article class="plugin-feature-card"> <div class="plugin-feature-card__head"> <span class="plugin-feature-card__icon">M</span> <h3>Rozszerzony routing kanałów</h3> </div> <p>Panel multichannel z routingiem, mute/solo oraz parami panorama dla złożonych układów wyjściowych.</p> <div class="plugin-tag-row"> <span class="plugin-tag">Routing</span><span class="plugin-tag">Multichannel</span><span class="plugin-tag">Pan</span> </div> </article><article class="plugin-feature-card"> <div class="plugin-feature-card__head"> <span class="plugin-feature-card__icon">A</span> <h3>Audio Generator (AI)</h3> </div> <p>Panel konwersacyjny wspierający generowanie materiału audio i szybkie iteracje wariantów brzmieniowych.</p> <div class="plugin-tag-row"> <span class="plugin-tag">Generator</span><span class="plugin-tag">Prompt</span><span class="plugin-tag">Session</span> </div> </article> </div> </section> <section class="content-stack"> <p class="section-kicker">Use case</p> <h2>Zastosowania twórcze</h2> <div class="plugin-feature-grid plugin-feature-grid--compact"> <article class="plugin-feature-card"> <div class="plugin-feature-card__head"> <span class="plugin-feature-card__icon">F</span> <h3>Tekstury filmowe i drony</h3> </div> <p>Budowanie atmosfer i warstw tła o ciągłej, ewoluującej strukturze.</p> <div class="plugin-tag-row"> <span class="plugin-tag">Cinematic</span><span class="plugin-tag">Ambient</span> </div> </article><article class="plugin-feature-card"> <div class="plugin-feature-card__head"> <span class="plugin-feature-card__icon">R</span> <h3>Rytmiczne glitche</h3> </div> <p>Dekonstrukcja i ponowne składanie materiału perkusyjnego w nieregularne sekwencje.</p> <div class="plugin-tag-row"> <span class="plugin-tag">Glitch</span><span class="plugin-tag">Rhythm</span> </div> </article><article class="plugin-feature-card"> <div class="plugin-feature-card__head"> <span class="plugin-feature-card__icon">V</span> <h3>Resynteza głosu i field recording</h3> </div> <p>Przetwarzanie źródeł mowy i nagrań terenowych do form eksperymentalnych.</p> <div class="plugin-tag-row"> <span class="plugin-tag">Voice</span><span class="plugin-tag">Field Recording</span> </div> </article><article class="plugin-feature-card"> <div class="plugin-feature-card__head"> <span class="plugin-feature-card__icon">B</span> <h3>Praca badawczo-artystyczna</h3> </div> <p>Eksploracja interaktywnych systemów audio i multimodalności w praktyce twórczej.</p> <div class="plugin-tag-row"> <span class="plugin-tag">Research</span><span class="plugin-tag">Interactive</span> </div> </article> </div> </section> <section class="content-stack"> <p class="section-kicker">Pobieranie</p> <h2>Pobieranie</h2> <article class="release-card"> <div class="release-head"> <h3>Generatywny syntezator granularny VST</h3> <p>v0.1.0-alpha | 2026-02-21</p> </div> <div class="release-action">  <div class="download-gate" data-download-gate data-lang="pl" data-plugin-version="v0.1.0-alpha" data-api-base="https://download-gate-api.s20796-download-gate.workers.dev"> <button type="button" class="button button-primary" data-gate-open>Pobierz przez formularz</button> <div class="download-gate-modal" data-gate-modal hidden> <div class="download-gate-modal__backdrop" data-gate-close></div> <div class="download-gate-modal__panel" role="dialog" aria-modal="true" aria-labelledby="download-gate-title-pl"> <button type="button" class="download-gate-modal__close" data-gate-close aria-label="Zamknij">x</button> <div class="download-gate-modal__scroll"> <div data-gate-form-view> <p class="section-kicker">Bezpieczne pobieranie</p> <h3 id="download-gate-title-pl">Formularz pobierania</h3> <p>Po przesłaniu formularza otrzymasz link do pobrania i sumę kontrolną SHA256 dla aktualnej wersji wtyczki.</p> <form class="download-gate-form" data-gate-form novalidate> <div class="download-gate-grid"> <label> <span>Imię</span> <input type="text" name="firstName" minlength="2" maxlength="80" required> </label> <label> <span>Nazwisko</span> <input type="text" name="lastName" minlength="2" maxlength="80" required> </label> </div> <label> <span>E-mail</span> <input type="email" name="email" maxlength="180" required> </label> <fieldset> <legend>Zaznacz, które określenia pasują do Ciebie.</legend> <div class="download-gate-check-grid"> <label class="download-gate-check"> <input type="checkbox" name="purposes" value="student" data-purpose-other-toggle="false"> <span>Student</span> </label><label class="download-gate-check"> <input type="checkbox" name="purposes" value="academic_staff" data-purpose-other-toggle="false"> <span>Pracownik uczelni</span> </label><label class="download-gate-check"> <input type="checkbox" name="purposes" value="researcher" data-purpose-other-toggle="false"> <span>Badacz</span> </label><label class="download-gate-check"> <input type="checkbox" name="purposes" value="sound_designer" data-purpose-other-toggle="false"> <span>Sound designer</span> </label><label class="download-gate-check"> <input type="checkbox" name="purposes" value="sound_director" data-purpose-other-toggle="false"> <span>Reżyser dźwięku</span> </label><label class="download-gate-check"> <input type="checkbox" name="purposes" value="composer" data-purpose-other-toggle="false"> <span>Kompozytor</span> </label><label class="download-gate-check"> <input type="checkbox" name="purposes" value="evaluation_test" data-purpose-other-toggle="false"> <span>Ewaluacja / test</span> </label><label class="download-gate-check"> <input type="checkbox" name="purposes" value="commercial_rd" data-purpose-other-toggle="false"> <span>Komercyjne R&amp;D</span> </label><label class="download-gate-check"> <input type="checkbox" name="purposes" value="other" data-purpose-other-toggle="true"> <span>Inne</span> </label> </div> </fieldset> <label class="download-gate-other" data-purpose-other hidden> <span>Inne (doprecyzuj)</span> <textarea name="purposeOther" rows="2" maxlength="280" disabled></textarea> </label> <fieldset> <legend>Powiązanie instytucjonalne</legend> <div class="download-gate-check-grid"> <label class="download-gate-check"> <input type="checkbox" name="affiliations" value="amfn"> <span>Związany z AMFN</span> </label> <label class="download-gate-check"> <input type="checkbox" name="affiliations" value="other" data-affiliation-other-toggle="true"> <span>Inna instytucja</span> </label> <label class="download-gate-check"> <input type="checkbox" name="affiliations" value="none" data-affiliation-none-toggle="true"> <span>Żadna</span> </label> </div> </fieldset> <label class="download-gate-other" data-institution-other hidden> <span>Nazwa innej instytucji</span> <input type="text" name="institutionOther" maxlength="140" disabled> </label> <input class="download-gate-honeypot" type="text" name="website" tabindex="-1" autocomplete="off"> <fieldset> <legend>Zgody</legend> <label class="download-gate-check"> <input type="checkbox" name="consentTerms" required> <span> Akceptuję   <a href="/pl/regulamin/" target="_blank" rel="noreferrer">regulamin</a> ,  <a href="/pl/regulamin/#licencja" target="_blank" rel="noreferrer">warunki licencji</a>   oraz   <a href="/pl/regulamin/#polityka-prywatnosci" target="_blank" rel="noreferrer">politykę prywatności</a>.
</span> </label> <label class="download-gate-check"> <input type="checkbox" name="consentStats"> <span>Wyrażam zgodę na wykorzystanie danych do statystyk projektu.</span> </label> <label class="download-gate-check"> <input type="checkbox" name="consentUpdates" required> <span>Wyrażam zgodę na kontakt o aktualizacjach wtyczki (zgoda wymagana, można zrezygnować w każdej chwili).</span> </label> </fieldset> <p class="download-gate-form__error" data-gate-error hidden></p> <div class="download-gate-actions download-gate-actions--center"> <button type="submit" class="button button-primary" data-gate-submit>Wyślij i pobierz</button> <button type="button" class="button button-ghost" data-gate-close>Anuluj</button> </div> </form> </div> <div class="download-gate-success" data-gate-success hidden> <p class="section-kicker">Bezpieczne pobieranie</p> <h3>Dostęp gotowy</h3> <p>Poniżej znajdziesz aktywny link do pobrania i sumę kontrolną SHA256.</p> <div class="download-gate-result download-gate-result--center"> <a class="button button-primary" href="#" target="_blank" rel="noreferrer" data-gate-download-link>Pobierz plik</a> <button type="button" class="button button-ghost" data-copy-link>Kopiuj link</button> </div> <div class="download-gate-hash"> <p>SHA256 (opcjonalny kod do weryfikacji poprawności pobranego pliku)</p> <code data-gate-sha256></code> <button type="button" class="button button-ghost" data-copy-sha>Kopiuj SHA256</button> </div> <p class="download-gate-expiry" data-gate-expiry hidden></p> <p> Aby wypisać się z informacji o aktualizacjach, napisz na   <span class="obf-email" data-obf-email data-local-codes="103-114-122-101-103-111-114-122-115-97-109-115-111-110-50-49-56" data-domain-codes="104-111-116-109-97-105-108" data-tld-codes="99-111-109" data-astro-cid-qs4irndd> <button type="button" class="obf-email__button" data-obf-trigger data-astro-cid-qs4irndd>Pokaż e-mail</button> <span class="obf-email__image-wrap" data-obf-wrap hidden data-astro-cid-qs4irndd> <img data-obf-image alt="Adres e-mail kontaktowy" loading="lazy" decoding="async" data-astro-cid-qs4irndd> </span> </span> <script type="module">
  const decodeCodes = (encoded) => {
    return encoded
      .split('-')
      .map((value) => Number.parseInt(value, 10))
      .filter((value) => Number.isFinite(value))
      .map((value) => String.fromCharCode(value))
      .join('');
  };

  const roots = document.querySelectorAll('[data-obf-email]');

  for (const root of roots) {
    if (root.getAttribute('data-obf-init') === '1') continue;
    root.setAttribute('data-obf-init', '1');

    const trigger = root.querySelector('[data-obf-trigger]');
    const wrap = root.querySelector('[data-obf-wrap]');
    const image = root.querySelector('[data-obf-image]');

    if (!(trigger instanceof HTMLButtonElement) || !(wrap instanceof HTMLElement) || !(image instanceof HTMLImageElement)) {
      continue;
    }

    trigger.addEventListener('click', () => {
      const local = decodeCodes(root.getAttribute('data-local-codes') ?? '');
      const domain = decodeCodes(root.getAttribute('data-domain-codes') ?? '');
      const tld = decodeCodes(root.getAttribute('data-tld-codes') ?? '');
      const email = `${local}@${domain}.${tld}`;

      const canvas = document.createElement('canvas');
      const context = canvas.getContext('2d');

      if (!context) return;

      const triggerHeight = Math.max(1, trigger.getBoundingClientRect().height);
      const imageDisplayHeight = Math.round(triggerHeight * 1.35);
      const pixelRatio = Math.max(1, window.devicePixelRatio || 1);
      const fontSize = Math.round(imageDisplayHeight * 0.62 * pixelRatio);
      const padX = Math.round(fontSize * 0.34);
      const padY = Math.round(fontSize * 0.3);

      context.font = `700 ${fontSize}px "Space Grotesk", "Manrope", "Segoe UI", sans-serif`;
      const metrics = context.measureText(email);
      const ascent = Math.ceil(metrics.actualBoundingBoxAscent || fontSize * 0.75);
      const descent = Math.ceil(metrics.actualBoundingBoxDescent || fontSize * 0.25);
      const textWidth = Math.ceil(metrics.width);
      const textHeight = ascent + descent;

      canvas.width = textWidth + padX * 2;
      canvas.height = textHeight + padY * 2;

      context.clearRect(0, 0, canvas.width, canvas.height);
      context.font = `700 ${fontSize}px "Space Grotesk", "Manrope", "Segoe UI", sans-serif`;
      context.fillStyle = '#dbe4ef';
      context.fillText(email, padX, padY + ascent);

      image.src = canvas.toDataURL('image/png');
      image.style.height = `${imageDisplayHeight}px`;
      image.style.width = 'auto';
      image.style.maxWidth = 'none';
      wrap.hidden = false;
      trigger.hidden = true;
    });
  }
</script> 
.
</p> <p class="download-gate-form__error" data-gate-feedback hidden></p> <div class="download-gate-actions download-gate-actions--center"> <button type="button" class="button button-ghost" data-gate-reset>Wypełnij ponownie</button> <button type="button" class="button button-primary" data-gate-close>Zamknij</button> </div> </div> </div> </div> </div> </div> <script type="module">
  const gates = document.querySelectorAll('[data-download-gate]');

  const messages = {
    pl: {
      validationError: 'Sprawdź formularz i uzupełnij wymagane pola.',
      affiliationsError: 'Zaznacz AMFN, Inna instytucja lub Żadna.',
      institutionOtherError: 'Podaj nazwę innej instytucji.',
      noneExclusivityError: 'Opcja „Żadna” nie może być łączona z innymi.',
      tooManyRequests: 'Za dużo prób. Odczekaj chwilę i spróbuj ponownie.',
      serverError: 'Wystąpił błąd po stronie serwera. Spróbuj ponownie za chwilę.',
      configError: 'Brak konfiguracji API pobierania. Ustaw PUBLIC_API_BASE.',
      genericError: 'Nie udało się przetworzyć formularza.',
      copiedLink: 'Link został skopiowany.',
      copiedHash: 'SHA256 zostało skopiowane.',
      copyFailed: 'Nie udało się skopiować. Skopiuj ręcznie.',
      expiresAtLabel: 'Ważność linku'
    },
    en: {
      validationError: 'Please review the form and complete required fields.',
      affiliationsError: 'Select FNAM affiliated, Other institution, or None.',
      institutionOtherError: 'Please provide the other institution name.',
      noneExclusivityError: 'The "None" option cannot be combined with other affiliations.',
      tooManyRequests: 'Too many attempts. Please wait and try again.',
      serverError: 'Server error. Please try again in a moment.',
      configError: 'Download API is not configured. Set PUBLIC_API_BASE.',
      genericError: 'Could not process the request.',
      copiedLink: 'Link copied.',
      copiedHash: 'SHA256 copied.',
      copyFailed: 'Copy failed. Please copy manually.',
      expiresAtLabel: 'Link expiry'
    }
  };

  class DownloadGateApiError extends Error {
    constructor(message, status, details = null) {
      super(message);
      this.name = 'DownloadGateApiError';
      this.status = status;
      this.details = details;
    }
  }

  const fetchDownloadLink = async (apiBase, payload) => {
    if (!apiBase) {
      throw new DownloadGateApiError('PUBLIC_API_BASE is not configured.', 500);
    }

    const response = await fetch(`${apiBase.replace(/\/$/, '')}/download`, {
      method: 'POST',
      headers: {
        'Content-Type': 'application/json'
      },
      body: JSON.stringify(payload)
    });

    let data = null;
    try {
      data = await response.json();
    } catch {
      data = null;
    }

    if (!response.ok) {
      const message =
        typeof data === 'object' && data && 'message' in data && typeof data.message === 'string'
          ? data.message
          : 'Download request failed.';
      throw new DownloadGateApiError(message, response.status, data);
    }

    if (
      typeof data !== 'object' ||
      !data ||
      !('downloadUrl' in data) ||
      !('sha256' in data) ||
      typeof data.downloadUrl !== 'string' ||
      typeof data.sha256 !== 'string'
    ) {
      throw new DownloadGateApiError('Invalid response from download API.', 502, data);
    }

    return data;
  };

  const sendGateEvent = (apiBase, payload) => {
    if (!apiBase) return;
    const endpoint = `${apiBase.replace(/\/$/, '')}/event`;
    const body = JSON.stringify(payload);

    try {
      if (navigator.sendBeacon) {
        const blob = new Blob([body], { type: 'application/json' });
        navigator.sendBeacon(endpoint, blob);
        return;
      }
    } catch {
      // noop
    }

    fetch(endpoint, {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body,
      keepalive: true
    }).catch(() => {});
  };

  const toBoolean = (value) => value === 'on' || value === true || value === 'true';

  for (const gate of gates) {
    const apiBase = gate.getAttribute('data-api-base') ?? '';
    const lang = gate.getAttribute('data-lang') === 'pl' ? 'pl' : 'en';
    const copy = messages[lang];
    const openButton = gate.querySelector('[data-gate-open]');
    const modal = gate.querySelector('[data-gate-modal]');
    const closeButtons = gate.querySelectorAll('[data-gate-close]');
    const form = gate.querySelector('[data-gate-form]');
    const formView = gate.querySelector('[data-gate-form-view]');
    const successView = gate.querySelector('[data-gate-success]');
    const errorBox = gate.querySelector('[data-gate-error]');
    const feedbackBox = gate.querySelector('[data-gate-feedback]');
    const submitButton = gate.querySelector('[data-gate-submit]');
    const resetButton = gate.querySelector('[data-gate-reset]');
    const purposeOtherToggle = gate.querySelector('[data-purpose-other-toggle="true"]');
    const purposeOtherWrap = gate.querySelector('[data-purpose-other]');
    const purposeOtherInput = purposeOtherWrap?.querySelector('textarea[name="purposeOther"]');
    const affiliationOtherToggle = gate.querySelector('[data-affiliation-other-toggle="true"]');
    const affiliationNoneToggle = gate.querySelector('[data-affiliation-none-toggle="true"]');
    const affiliationInputs = Array.from(gate.querySelectorAll('input[name="affiliations"]'));
    const institutionOtherWrap = gate.querySelector('[data-institution-other]');
    const institutionOtherInput = institutionOtherWrap?.querySelector('input[name="institutionOther"]');
    const downloadLink = gate.querySelector('[data-gate-download-link]');
    const shaCode = gate.querySelector('[data-gate-sha256]');
    const copyLinkButton = gate.querySelector('[data-copy-link]');
    const copyShaButton = gate.querySelector('[data-copy-sha]');
    const expiryLine = gate.querySelector('[data-gate-expiry]');
    const pluginVersion = gate.getAttribute('data-plugin-version') ?? '';
    const pagePath = window.location.pathname;

    if (
      !openButton ||
      !modal ||
      !form ||
      !formView ||
      !successView ||
      !errorBox ||
      !submitButton ||
      !downloadLink ||
      !shaCode ||
      !copyLinkButton ||
      !copyShaButton
    ) {
      continue;
    }

    const showError = (message) => {
      errorBox.textContent = message;
      errorBox.hidden = false;
    };

    const clearError = () => {
      errorBox.textContent = '';
      errorBox.hidden = true;
    };

    const showFeedback = (message) => {
      if (!feedbackBox) return;
      feedbackBox.textContent = message;
      feedbackBox.hidden = false;
      window.setTimeout(() => {
        feedbackBox.hidden = true;
      }, 1800);
    };

    const toggleOtherPurpose = () => {
      if (!purposeOtherToggle || !purposeOtherWrap || !purposeOtherInput) return;
      const enabled = purposeOtherToggle.checked;
      purposeOtherWrap.hidden = !enabled;
      purposeOtherInput.disabled = !enabled;
      purposeOtherInput.required = enabled;
      if (!enabled) {
        purposeOtherInput.value = '';
      }
    };

    const toggleInstitutionOther = () => {
      if (!affiliationOtherToggle || !institutionOtherWrap || !institutionOtherInput) return;
      const enabled = affiliationOtherToggle.checked;
      institutionOtherWrap.hidden = !enabled;
      institutionOtherInput.disabled = !enabled;
      institutionOtherInput.required = enabled;
      if (!enabled) {
        institutionOtherInput.value = '';
      }
    };

    const normalizeAffiliations = (changedInput) => {
      if (!(changedInput instanceof HTMLInputElement)) return;
      if (changedInput.value === 'none' && changedInput.checked) {
        for (const input of affiliationInputs) {
          if (input !== changedInput) {
            input.checked = false;
          }
        }
      }
      if (changedInput.value !== 'none' && changedInput.checked && affiliationNoneToggle instanceof HTMLInputElement) {
        affiliationNoneToggle.checked = false;
      }
      toggleInstitutionOther();
    };

    const closeModal = () => {
      modal.hidden = true;
      document.body.classList.remove('download-gate-open');
    };

    const openModal = () => {
      modal.hidden = false;
      document.body.classList.add('download-gate-open');
    };

    const emitEvent = (eventName, status = '') => {
      sendGateEvent(apiBase, {
        event: eventName,
        path: pagePath,
        lang,
        pluginVersion,
        status,
        source: 'download_gate_modal',
        website: ''
      });
    };

    const resetViews = () => {
      formView.hidden = false;
      successView.hidden = true;
      form.reset();
      clearError();
      if (feedbackBox) {
        feedbackBox.hidden = true;
      }
      if (expiryLine) {
        expiryLine.hidden = true;
      }
      toggleOtherPurpose();
      toggleInstitutionOther();
    };

    openButton.addEventListener('click', () => {
      openModal();
      emitEvent('download_modal_open');
    });
    closeButtons.forEach((button) => {
      button.addEventListener('click', closeModal);
    });
    resetButton?.addEventListener('click', resetViews);
    purposeOtherToggle?.addEventListener('change', toggleOtherPurpose);
    affiliationInputs.forEach((input) => {
      input.addEventListener('change', () => normalizeAffiliations(input));
    });

    copyLinkButton.addEventListener('click', async () => {
      const href = downloadLink.getAttribute('href') ?? '';
      if (!href) return;
      try {
        await navigator.clipboard.writeText(href);
        showFeedback(copy.copiedLink);
      } catch {
        showFeedback(copy.copyFailed);
      }
    });

    copyShaButton.addEventListener('click', async () => {
      const sha = shaCode.textContent ?? '';
      if (!sha) return;
      try {
        await navigator.clipboard.writeText(sha);
        showFeedback(copy.copiedHash);
      } catch {
        showFeedback(copy.copyFailed);
      }
    });

    form.addEventListener('submit', async (event) => {
      event.preventDefault();
      clearError();

      if (!form.reportValidity()) {
        showError(copy.validationError);
        emitEvent('download_submit_error', 'client_validation');
        return;
      }

      const formData = new FormData(form);
      const payload = {
        firstName: String(formData.get('firstName') ?? '').trim(),
        lastName: String(formData.get('lastName') ?? '').trim(),
        email: String(formData.get('email') ?? '').trim(),
        purposes: formData.getAll('purposes').map((value) => String(value)),
        purposeOther: String(formData.get('purposeOther') ?? '').trim(),
        affiliations: formData.getAll('affiliations').map((value) => String(value)),
        institutionOther: String(formData.get('institutionOther') ?? '').trim(),
        consentTerms: toBoolean(formData.get('consentTerms')),
        consentStats: toBoolean(formData.get('consentStats')),
        consentUpdates: toBoolean(formData.get('consentUpdates')),
        lang: gate.getAttribute('data-lang') ?? 'pl',
        pluginVersion: gate.getAttribute('data-plugin-version') ?? '',
        website: String(formData.get('website') ?? '').trim()
      };

      if (payload.purposes.length === 0 && payload.purposeOther.length < 3) {
        showError(copy.validationError);
        emitEvent('download_submit_error', 'purpose_validation');
        return;
      }

      if (payload.purposes.includes('other') && payload.purposeOther.length < 3) {
        showError(copy.validationError);
        emitEvent('download_submit_error', 'purpose_other_validation');
        return;
      }

      if (payload.affiliations.length === 0) {
        showError(copy.affiliationsError);
        emitEvent('download_submit_error', 'affiliation_validation');
        return;
      }

      if (payload.affiliations.includes('none') && payload.affiliations.length > 1) {
        showError(copy.noneExclusivityError);
        emitEvent('download_submit_error', 'affiliation_none_conflict');
        return;
      }

      if (payload.affiliations.includes('other') && payload.institutionOther.length < 2) {
        showError(copy.institutionOtherError);
        emitEvent('download_submit_error', 'institution_other_validation');
        return;
      }

      submitButton.disabled = true;
      submitButton.setAttribute('aria-busy', 'true');

      try {
        const result = await fetchDownloadLink(apiBase, payload);
        downloadLink.setAttribute('href', result.downloadUrl);
        shaCode.textContent = result.sha256;
        if (expiryLine && result.expiresAt) {
          expiryLine.textContent = `${copy.expiresAtLabel}: ${result.expiresAt}`;
          expiryLine.hidden = false;
        } else if (expiryLine) {
          expiryLine.hidden = true;
        }

        formView.hidden = true;
        successView.hidden = false;
        emitEvent('download_submit_ok');
        emitEvent('download_link_shown');
      } catch (error) {
        let errorStatus = 'runtime_error';
        if (error instanceof DownloadGateApiError && error.status === 429) {
          showError(copy.tooManyRequests);
          errorStatus = '429';
        } else if (error instanceof DownloadGateApiError && error.status >= 500) {
          if (error.message.includes('PUBLIC_API_BASE')) {
            showError(copy.configError);
            errorStatus = 'config';
          } else {
            showError(copy.serverError);
            errorStatus = String(error.status);
          }
        } else if (error instanceof DownloadGateApiError && error.status === 400) {
          showError(error.message || copy.validationError);
          errorStatus = '400';
        } else if (error instanceof Error) {
          showError(error.message || copy.genericError);
          errorStatus = 'client_error';
        } else {
          showError(copy.genericError);
          errorStatus = 'unknown_error';
        }
        emitEvent('download_submit_error', errorStatus);
      } finally {
        submitButton.disabled = false;
        submitButton.removeAttribute('aria-busy');
      }
    });

    downloadLink.addEventListener('click', () => {
      emitEvent('download_clicked');
    });

    toggleOtherPurpose();
    toggleInstitutionOther();
    resetViews();
  }
</script>  </div>   </article> </section>  </main> <footer class="main-footer"> <p>Nowe technologie w rozwoju narzędzi i kompetencji technologicznych dla współczesnej muzyki</p> <p>09.2025 - 02.2026</p> </footer> <section class="funding-footer" aria-label="Informacja o finansowaniu projektu"><div class="funding-logos"><img src="/assets/funding/kpo-ngeu-achromatic.png" alt="KPO i NextGenerationEU - wariant achromatyczny" class="funding-logo-white" loading="lazy"></div><p class="funding-note">Działania poprowadzone w ramach projektu stypendialnego „Nowe technologie w rozwoju narzędzi i kompetencji technologicznych dla współczesnej muzyki” realizowanego przez Grzegorza Samsona. Sfinansowane przez Unię Europejską NextGenerationEU.</p></section> <script>(function(){const apiBase = "https://download-gate-api.s20796-download-gate.workers.dev";
const lang = "pl";

    (() => {
      try {
        const endpoint = `${String(apiBase).replace(/\/$/, '')}/analytics/pageview`;
        const payload = {
          path: window.location.pathname,
          lang: lang || document.documentElement.lang || '',
          referrer: document.referrer || '',
          website: ''
        };
        const body = JSON.stringify(payload);

        if (navigator.sendBeacon) {
          const blob = new Blob([body], { type: 'application/json' });
          navigator.sendBeacon(endpoint, blob);
          return;
        }

        fetch(endpoint, {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body,
          keepalive: true
        }).catch(() => {});
      } catch {
        // noop
      }
    })();
  })();</script> </body></html> <script>(function(){const guiItems = [{"id":"controls","chip":"Controls","title":"Controls Panel","shortDescription":"Główna warstwa kreacji i parametry granulacji.","imageSrc":"/assets/plugin/controls-panel.png","imageAlt":"Panel Controls we wtyczce GreggularVST","description":"Główna warstwa kreacji: Duration, Pitch, Gain, Envelope i Cloud. To tutaj ustawiane są parametry odpowiadające za charakter i dynamikę chmury granularnej.","bullets":["Sterowanie zakresem i dynamiką","Szybki dostęp do kluczowych parametrów","Tryb pracy nastawiony na iteracje"],"tags":["Duration","Pitch","Cloud"]},{"id":"multichannel","chip":"Multichannel","title":"Multichannel Panel","shortDescription":"Routing kanałów i panorama dla złożonych układów.","imageSrc":"/assets/plugin/multichannel-panel.png","imageAlt":"Panel Multichannel we wtyczce GreggularVST","description":"Routing kanałów z kontrolą aktywności, mute/solo i konfiguracją par panorama. Panel umożliwia pracę od stereo po rozszerzone układy wielokanałowe.","bullets":["Kontrola kanałów wyjściowych","Parowanie L/R i panorama","Skalowalność dla układów surround"],"tags":["Routing","Mute/Solo","Surround"]},{"id":"audio-generator","chip":"Audio Generator","title":"Audio Generator (AI)","shortDescription":"Generowanie materiału audio i iteracje promptowe.","imageSrc":"/assets/plugin/audio-generator-panel.png","imageAlt":"Panel Audio Generator (AI) we wtyczce GreggularVST","description":"Interfejs konwersacyjny do generowania materiału audio i zarządzania sesją. Rozszerza workflow o komponent promptowy i szybkie iteracje wariantów brzmieniowych.","bullets":["Tworzenie wariantów materiału audio","Obsługa kontekstu sesji","Workflow promptowy dla sound designu"],"tags":["Generator","Prompt","Session"]}];

  const roots = document.querySelectorAll('[data-plugin-panels]');

  for (const root of roots) {
    const buttons = Array.from(root.querySelectorAll('button[data-panel-id]'));
    const activeCard = root.querySelector('[data-panel-active]');
    const image = root.querySelector('[data-active-image]');
    const caption = root.querySelector('[data-active-caption]');
    const title = root.querySelector('[data-active-title]');
    const description = root.querySelector('[data-active-description]');
    const bullets = root.querySelector('[data-active-bullets]');
    const prevButton = root.querySelector('[data-panel-prev]');
    const nextButton = root.querySelector('[data-panel-next]');

    if (!buttons.length || !activeCard || !image || !caption || !title || !description || !bullets) continue;

    const itemMap = new Map(guiItems.map((item) => [item.id, item]));
    const ids = buttons
      .map((button) => button.dataset.panelId)
      .filter((value) => typeof value === 'string' && value.length > 0);
    let activeId = ids[0] ?? '';

    const setActive = (id, scrollToCard = true) => {
      const item = itemMap.get(id);
      if (!item) return;
      activeId = id;

      for (const button of buttons) {
        const isActive = button.dataset.panelId === id;
        button.classList.toggle('is-active', isActive);
        button.setAttribute('aria-pressed', isActive ? 'true' : 'false');
      }

      image.setAttribute('src', item.imageSrc);
      image.setAttribute('alt', item.imageAlt);
      caption.textContent = item.shortDescription ?? item.description;
      title.textContent = item.title;
      description.textContent = item.description;

      bullets.textContent = '';
      for (const entry of item.bullets ?? []) {
        const li = document.createElement('li');
        li.textContent = entry;
        bullets.appendChild(li);
      }

      const activeIndex = ids.indexOf(id);
      if (prevButton instanceof HTMLButtonElement) {
        prevButton.disabled = activeIndex <= 0;
      }
      if (nextButton instanceof HTMLButtonElement) {
        nextButton.disabled = activeIndex === -1 || activeIndex >= ids.length - 1;
      }

      if (scrollToCard) {
        activeCard.scrollIntoView({ behavior: 'smooth', block: 'start' });
      }
    };

    for (const button of buttons) {
      button.addEventListener('click', () => {
        const id = button.dataset.panelId;
        if (id) setActive(id, true);
      });
    }

    prevButton?.addEventListener('click', () => {
      const index = ids.indexOf(activeId);
      if (index > 0) {
        setActive(ids[index - 1], true);
      }
    });

    nextButton?.addEventListener('click', () => {
      const index = ids.indexOf(activeId);
      if (index >= 0 && index < ids.length - 1) {
        setActive(ids[index + 1], true);
      }
    });

    const initialId = root.getAttribute('data-initial-id');
    if (initialId) setActive(initialId, false);
  }
})();</script>